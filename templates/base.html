<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Art&Auction ‚Äî India's trusted smart auction platform. Buy and sell rare finds through live online auctions.">
    <title>{% block title %}Art&Auction ‚Äî Smart Indian Auction Platform{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        // Apply saved theme immediately to prevent flash
        (function () {
            var t = localStorage.getItem('art-auction-theme') || 'light';
            document.documentElement.setAttribute('data-theme', t);
        })();
    </script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="{{ url_for('index') }}" class="nav-brand">
                <!-- Art&Auction SVG Logo: Lotus merging with Gavel -->
                <svg width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 85 C30 85 15 65 25 45 C30 35 45 35 50 20 C55 35 70 35 75 45 C85 65 70 85 50 85 Z"
                        fill="var(--primary)" />
                    <path d="M45 50 L20 25 L35 10 L60 35 Z" fill="var(--secondary)" />
                    <path d="M30 15 L70 55" stroke="var(--white)" stroke-width="4" stroke-linecap="round" />
                </svg>
                Art&Auction
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('index') }}#categories">Categories</a></li>
                {% if current_user %}
                <li><a href="{{ url_for('dashboard') }}">My Dashboard</a></li>
                {% if current_user.role in ('seller', 'admin') %}
                <li><a href="{{ url_for('create_auction') }}">List Item</a></li>
                {% endif %}
                {% if current_user.role == 'admin' %}
                <li><a href="{{ url_for('admin_panel') }}">Admin Panel</a></li>
                {% endif %}
                <li class="nav-user">
                    <span class="nav-username">{{ current_user.username }}</span>
                    <span class="role-badge role-{{ current_user.role }}">{{ current_user.role }}</span>
                </li>
                <li><a href="{{ url_for('logout') }}" class="btn btn-outline btn-sm">Sign Out</a></li>
                {% else %}
                <li><a href="{{ url_for('login') }}" class="btn btn-outline btn-sm">Sign In</a></li>
                <li><a href="{{ url_for('register') }}" class="btn btn-primary btn-sm">Get Started</a></li>
                {% endif %}
                <li>
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" title="Toggle theme">
                        <span class="theme-icon-light">üåô</span>
                        <span class="theme-icon-dark">‚òÄÔ∏è</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="container flash-container">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}" data-aos="fade-down">
            <span>{{ message }}</span>
            <button class="alert-close" onclick="this.parentElement.remove()">√ó</button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <!-- Main Content -->
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- Advanced Footer -->
    <footer class="footer-advanced">
        <div class="container">
            <div class="footer-grid">
                <!-- Branding -->
                <div>
                    <a href="{{ url_for('index') }}" class="footer-brand">
                        <svg width="32" height="32" viewBox="0 0 100 100" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M50 85 C30 85 15 65 25 45 C30 35 45 35 50 20 C55 35 70 35 75 45 C85 65 70 85 50 85 Z"
                                fill="var(--primary)" />
                            <path d="M45 50 L20 25 L35 10 L60 35 Z" fill="#93c5fd" />
                            <path d="M30 15 L70 55" stroke="var(--white)" stroke-width="4" stroke-linecap="round" />
                        </svg>
                        Art&Auction
                    </a>
                    <p class="footer-desc">The trusted Indian marketplace for rare finds and everyday deals. Buy, sell,
                        and bid with absolute confidence ‚Äî all in one secure platform.</p>
                </div>

                <!-- Bidders -->
                <div>
                    <h4 class="footer-heading">For Bidders</h4>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('index') }}?status=live">Live & Upcoming</a></li>
                        <li><a href="{{ url_for('dashboard') }}">Watchlist Items</a></li>
                        <li><a href="{{ url_for('dashboard') }}">Bid Activity</a></li>
                        <li><a href="{{ url_for('dashboard') }}">Won Auctions</a></li>
                    </ul>
                </div>

                <!-- Sellers -->
                <div>
                    <h4 class="footer-heading">For Sellers</h4>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('create_auction') }}">Start Selling</a></li>
                        <li><a href="{{ url_for('dashboard') }}">My Listings</a></li>
                        <li><a href="{{ url_for('dashboard') }}">Seller Tools</a></li>
                        <li><a href="#">Payment Info</a></li>
                    </ul>
                </div>

                <!-- Community -->
                <div>
                    <h4 class="footer-heading">Community</h4>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Help Centre</a></li>
                        <li><a href="#">Trust & Safety</a></li>
                        <li><a href="#">Feedback</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2026 Art&Auction. All rights reserved.</p>
                <div class="footer-badges">
                    <span class="badge">üìç India</span>
                    <span class="badge">üïê IST (UTC+5:30)</span>
                    <span class="badge">üí∞ ‚Çπ INR</span>
                </div>
                <div style="display:flex; gap:16px;">
                    <a href="#" style="color:var(--gray-400)">Privacy Policy</a>
                    <a href="#" style="color:var(--gray-400)">Terms of Service</a>
                    <a href="#" style="color:var(--gray-400)">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.1/vanilla-tilt.min.js"></script>
    <script>
        // Init AOS
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true,
            offset: 50
        });

        // Sticky Navbar shadow
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 10) {
                nav.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';
            } else {
                nav.style.boxShadow = 'none';
            }
        });

        // Theme toggle
        (function () {
            var toggle = document.getElementById('themeToggle');
            function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('art-auction-theme', theme);
            }
            toggle.addEventListener('click', function () {
                var current = document.documentElement.getAttribute('data-theme');
                setTheme(current === 'dark' ? 'light' : 'dark');
            });
        })();
    </script>
    {% block scripts %}{% endblock %}
</body>

</html>